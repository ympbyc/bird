<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf8">
    <title>ZEBRA * PILOT</title>

    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.css" />
    <link rel="stylesheet" href="../default.css" />
    <link rel="stylesheet" href="styles.css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r70/three.min.js"></script>
    <script src="http://mrdoob.github.com/three.js/examples/fonts/helvetiker_regular.typeface.js"></script>
  </head>
  <body>
    <div id="content" class="box">
      <div class="screen">
        <nav><h1>ZEBRA * PILOT</h1></nav>
        <div id="main"></div>
      </div>
    </div>
    <script>
      var scene = new THREE.Scene();
      var camera = new THREE.PerspectiveCamera( 75, 1200 / 600, 0.1, 1000 );
      var renderer = new THREE.WebGLRenderer();
      renderer.setSize( 1200, 600 );
      document.getElementById("main").appendChild( renderer.domElement );
      renderer.setClearColor( 0xffffff, 1);


      var group = new THREE.Object3D();
      var geometry = new THREE.CylinderGeometry(0.23, 0.23, 7, 50);
      var material = new THREE.MeshBasicMaterial({
        color: 0xffffff,
        map: THREE.ImageUtils.loadTexture( 'pen5.png' ),
        overdraw: true
      })
      var mesh = new THREE.Mesh( geometry, material ) ;


      var capG = new THREE.CylinderGeometry(0.23, 0.04, 0.5, 50);
      var capMt = new THREE.MeshNormalMaterial();
      var capMs = new THREE.Mesh(capG, capMt);
      capMs.position.x = 0
      capMs.position.y = -3.75;
      capMs.position.z = 0;

      var knockG = new THREE.CylinderGeometry(0.1, 0.1, 0.3, 50);
      var knockMt = new THREE.MeshNormalMaterial();
      var knockMs = new THREE.Mesh(knockG, knockMt);
      knockMs.position.x = 0
      knockMs.position.y = 3.6;
      knockMs.position.z = 0;

      var txtG = new THREE.TextGeometry("PILOT Inc.", {
        size: 0.2,
        height: 0.01
      });
      var txtMt = new THREE.MeshBasicMaterial({color: 0x000000});
      var txtMs = new THREE.Mesh(txtG, txtMt);
      txtMs.position.x = 0.23;
      txtMs.position.z = -0.1;
      txtMs.rotation.x = Math.PI/2;
      txtMs.rotation.y = Math.PI/2;
      txtMs.rotation.z = 0//Math.PI



      group.add(mesh);
      group.add(capMs);
      group.add(knockMs);
      group.add(txtMs);
      scene.add(group);

      group.rotation.x = Math.PI/2;
      group.rotation.z = Math.PI/2;


      camera.position.z = 5;

      // add subtle ambient lighting
      var ambientLight = new THREE.AmbientLight(0xbbbbbb);
      scene.add(ambientLight);

      // directional lighting
      var directionalLight = new THREE.DirectionalLight(0xffffff);
      directionalLight.position.set(1, 1, 1).normalize();
      scene.add(directionalLight);


      function render() {
        requestAnimationFrame( render );
        if (! touching) group.rotation.x += 0.001;
        renderer.render( scene, camera );
      }
      render();

      var touching = false;
      var y = 0;
      var x = 0;
      document.addEventListener("mousedown", function (e) {
        touching = true;
        y = e.clientY;
        x = e.clientX;
      })
      document.addEventListener("mousemove", function (e) {
        if ( ! touching) return;
        group.rotation.x += (e.clientY - y) * 0.03;
        group.rotation.y += (e.clientX - x) * 0.01;
        y = e.clientY;
        x = e.clientX;
      })
      document.addEventListener("mouseup", function (e) {
        touching = false;
      });

    </script>
  </body>
</html>
